function closeKeyboard(){_input=null;$("#keypad").remove()}function offset(n){var t=n.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+i}}function shuffle(n){for(var t=n.length,r,i;0!==t;)i=Math.floor(Math.random()*t),t-=1,r=n[t],n[t]=n[i],n[i]=r;return n}function showKeyPad(n,t){n=n+30;$("#keypad").remove();var u=[0,1,2,3,4,5,6,7,8,9],u=shuffle(u),r="<div id='keypad' style='position: absolute;top:"+n+"px;left:"+t+"px;z-index:99999999;width:200px;'><span class='k-close' onclick='closeKeyboard()'>بستن کیبورد X <\/span>",i="";u.forEach(function(n){i=i+"<div class='key-h'><button class='keypadbtn' onclick='SetValue("+n+")'>"+n.toString().toPersianDigits()+"<\/button><\/div>"});i=i+"<div class='row'><div class='key-b col-6 m-0'><button class='backspace' onclick='Del()'><i class='bi bi-backspace'><\/i>تصحیح<\/button><\/div>";i=i+"<div class='key-c col-6 m-0'><button class='clearall' onclick='RemoveAll()'><i class='bi bi-x-circle'><\/i>پاک کردن<\/button><\/div><\/div>";r=r+i+"<\/div>";$("body").append(r)}function SetValue(n){var t=$(_input).attr("maxlength"),u=_input.val().length,i,r;(t=="undefined"||u<t)&&($(_input).val($(_input).val()+n),console.log($(_input).val()+n),_input.hasClass("creditCard")&&(i=convertNumbers2English(_input.val().replace(/-/g,"")),r=i.match(/.{1,4}/g),_input.val(r.join("-")),panChange(),changeBankLogo(getCardNumber(_input.val())),changefocous(_input)))}function Del(){$(_input).val($(_input).val().substring(0,$(_input).val().length-1))}function RemoveAll(){$(_input).val("")}(function(n){n.fn.clickToggle=function(t,i){var r=[t,i];return this.data("toggleclicked",0),this.click(function(){var t=n(this).data(),i=t.toggleclicked;n.proxy(r[i],this)();t.toggleclicked=(i+1)%2}),this};n("body").on("click",function(t){n(t.target).is(".keypadBtn")||n(t.target).is(".keypadbtn")||n(t.target).is(".backspace")||n(t.target).is(".clearall")||closeKeyboard()})})(jQuery);var _input;HTMLElement.prototype.PecKeypad=function(){var n=offset(this.parentElement),t=n.top,i=n.left;$(this).attr("data-top",t);$(this).attr("data-left",i);$(this).click(function(){$(this).attr("disabled")!="disabled"&&(_input=$("input",$(this).parent()),showKeyPad(t,i))})};String.prototype.toPersianDigits=function(){var n=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return this.replace(/[0-9]/g,function(t){return n[+t]})};$(document).ready(function(){Array.prototype.forEach.call(document.querySelectorAll(".keypadBtn"),function(n){n.PecKeypad()})});